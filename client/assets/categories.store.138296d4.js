import{R as i,S as a}from"./index.39e089c8.js";import{u as o}from"./message.store.d584a04e.js";const g=i("Categories",{state:()=>({categoriesList:[]}),getters:{defaultCategory:e=>e.categoriesList.filter(t=>t.isDefault="true")[0],categoryNames:e=>e.categoriesList.reduce((t,r)=>{const s=r.name;return t.push(s),t},[])},actions:{async getCategories(){try{const e=await a.fetch("categories");e.error||(this.categoriesList=e.result||[])}catch{}},getDefaultCategory(){const e=this.categoriesList.find(t=>t.isDefault==="true");return e||null},getCategoryByName(e){const t=this.categoriesList.find(r=>r.name===e);return t||null},async delete(e){try{(await a.remove("categories",e)).error||(this.categoriesList=this.categoriesList.filter(r=>r.id!==e))}catch{}},async insert(e){const t={record:e},r=o();try{const s=await a.insert("categories",t);return s.error?r.error(s.error):this.categoriesList.push({...s.result}),s}catch{}},async update(e,t){const r={record:e,oldCategory:t};try{(await a.update("categories",r)).error||await this.getCategories()}catch{}}}});export{g as u};
